<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<title>components</title>

<script src="http://how2j.cn/study/vue.min.js"></script>
<style>
   
</style>
</head>
<body>
    <div id="div1">    
        <div v-xart1> 好好学习，天天向上 </div>            
    </div>    
    <script>
        Vue.directive('xart1', function (el) {
            el.innerHTML = el.innerHTML + ' ( x-art1 ) '
            el.style.color = 'pink'
        })        
        new Vue({
            el: '#div1'
        })
    </script>


    <div id="div2">     
        <div v-xart2="{color:'red',text:'best learning video'}"> 好好学习，天天向上 </div>         
    </div>     
    <script>     
        Vue.directive('xart2', function (el,binding) {
            el.innerHTML = el.innerHTML + '( ' + binding.value.text + ' )'
            el.style.color = binding.value.color
        })     
        new Vue({
            el: '#div2'
        })
    </script>
    
    <div id="div3">     
        <div v-xart3:hello.a.b="message"> </div>             
    </div>

    <script>
        Vue.directive('xart3', {
            bind: function (el, binding, vnode) {
                var s = JSON.stringify
                el.innerHTML =
                    'name: '       + s(binding.name) + '<br>' +
                    'value: '      + s(binding.value) + '<br>' +
                    'expression: ' + s(binding.expression) + '<br>' +
                    'argument: '   + s(binding.arg) + '<br>' +
                    'modifiers: '  + s(binding.modifiers) + '<br>' +
                    'vnode keys: ' + Object.keys(vnode).join(', ')
            },
            
            update: function (newValue, oldValue) {
            // 值更新时的工作
            // 也会以初始值为参数调用一次
            },
            unbind: function () {
            // 清理工作
            // 例如，删除 bind() 添加的事件监听器
            }
        })
                
        new Vue({
            el: '#div3',
            data:{
                message:'hello vue.js'
            }
        })
    </script>  
</body>
</html>
